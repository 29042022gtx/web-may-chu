<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('components/head') %>
    <title>Danh sách</title>
</head>

<body id="page-top">
  <!-- Page Wrapper -->
  <div id="wrapper">
    <%- include('components/sidebar') %>

      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">
          <%- include('components/topbar') %>
            <!-- Begin Page Content -->
            <div class="container-fluid">
              <!-- Page Heading -->
              <div
                class="d-sm-flex align-items-center justify-content-between mb-4">
                <h5 class="h5 mb-0 text-decoration-underline">
                  <a href="/danh-sach">
                    <u>Danh sách nhân viên</u>
                  </a>
                </h5>
              </div>
              <%
              let action = '/them';
              if (mode == 'update') {
                action = `/sua/${staff.id}`
              }
              %>
              <form action="<%= action %>" method="POST" enctype="multipart/form-data">
                <div class="mb-3">
                  <label for="name">Name</label>
                  <input type="text" name="name" id="name"
                    value="<%= staff?.name %>"
                    placeholder="Name"
                    class="form-control"
                    autocomplete="on"
                    >
                  <div class="text-danger">
                    <%= locals.validationError?.name %>
                  </div>
                </div>
                <div class="mb-3">
                  <label for="dateOfBirth">Birth</label>
                  <input type="date" name="dateOfBirth" id="dateOfBirth"
                    value="<%= staff?.dateOfBirth %>"
                    placeholder="Date of birth"
                    class="form-control">
                    <div class="text-danger">
                      <%= locals.validationError?.dateOfBirth %>
                    </div>
                </div>
                <div class="mb-3">
                  <label for="photo">Photo</label>
                  <% if (staff?.photo) { %>
                    <img src="<%= staff.photoUrl %>" alt="" width="50" height="50"
                    style="object-fit: contain;"
                    >
                  <% } else { %>
                    <img src="/uploads/default.jpg" alt="" width="50" height="50"
                      style="object-fit: contain;"
                      >
                  <% } %>
                  <input type="file" name="photo" id="photo"
                    value="<%= staff?.photo %>"
                    placeholder="Date of birth"
                    class="form-control-file">
                    <div class="text-danger">
                      <%= locals.validationError?.photo %>
                    </div>
                </div>
                <button class="btn btn-primary">Submit</button>
              </form>

            </div>
            <!-- /.container-fluid -->
        </div>
        <!-- End of Main Content -->

        <!-- Footer -->
        <footer class="sticky-footer bg-white">
          <div class="container my-auto">
            <div class="copyright text-center my-auto">
              <span>Copyright &copy; Your Website 2021</span>
            </div>
          </div>
        </footer>
        <!-- End of Footer -->
      </div>
      <!-- End of Content Wrapper -->
  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <%- include('components/script') %>
</body>

</html>